<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purchase Return Form</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="purchaseReturn.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.12.2/dist/sweetalert2.min.css">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex align-items-center mb-4 ">
            <h1 class="text-primary flex-grow-1 text-center">Purchase Return Form</h1>
            <button id="listButton" class="btn btn-outline-primary">View List</button>
        </div>

        <form id="purchaseForm">
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="date" class="form-label">Date</label>
                    <div class="input-group">
                        <input type="date" class="form-control" id="date" required>
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="vendorInvoiceNo" class="form-label"> Invoice No.</label>
                    <input type="text" class="form-control" id="vendorInvoiceNo">
                </div>
                <div class="col-md-4">
                    <label for="purchaseOrderNo" class="form-label">Purchase Order No.</label>
                    <input type="text" class="form-control" id="purchaseOrderNo">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="description" class="form-label">Description</label>
                    <input type="text" class="form-control" id="description">
                </div>
                <div class="col-md-6">
                    <label for="attachment" class="form-label">Attachment</label>
                    <input type="file" class="form-control" id="attachment">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="vendorCode" class="form-label">Vendor Code</label>
                    <select class="form-select" id="vendorCode">
                        <option selected>Select Code</option>
                        </select>
                </div>
                <div class="col-md-4">
                    <label for="vendorName" class="form-label">Vendor Name</label>
                    <select class="form-select" id="vendorName">
                        <option selected>Select Name</option>
                        </select>
                </div>
                <div class="col-md-4">
                    <label for="vendorAddress" class="form-label">Vendor Address</label>
                    <input type="text" class="form-control" id="vendorAddress">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="telephone" class="form-label">Telephone</label>
                    <input type="text" class="form-control" id="telephone">
                </div>
                <div class="col-md-4">
                    <label for="termsOfPayment" class="form-label">Terms of Payment</label>
                    <div class="input-group">
                        <select class="form-select" id="termsOfPayment">
                            <option selected>Select Terms</option>
                            <option value="Net 30">Net 30</option>
                            <option value="Net 60">Net 60</option>
                        </select>
                        <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#termsModal">
                            <i class="bi bi-plus"></i> Add
                        </button>
                    </div>
                </div>
            </div>

            <hr class="my-4">

            <div class="d-flex align-items-center mb-3">
                <h4 class="table-heading">Purchase Items</h4>
            </div>

            <table class="table table-bordered" id="purchaseItemsTable">
                <thead>
                    <tr>
                        <th>Item Code</th>
                        <th>Item Name</th>
                        <th>Qty</th>
                        <th>Unit</th>
                        <th>Rate</th>
                        <th>Net Amount</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input type="text" class="form-control item-code" value="ITM001">
                        </td>
                        <td>
                            <select class="form-select item-description">
                                <option>Laptop</option>
                                <option>Monitor</option>
                                <option>Keyboard</option>
                                <option selected>Select Description</option>
                            </select>
                        </td>
                        <td><input type="number" class="form-control item-qty" value="1"></td>
                        <td><input type="text" class="form-control item-unit" value="Unit"></td>
                        <td><input type="number" class="form-control item-rate" value="1000"></td>
                        <td><input type="number" class="form-control item-net-amount" readonly value="1000"></td>
                        <td>
                            <button type="button" class="btn btn-danger btn-sm delete-row">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="btn btn-outline-success" id="addItemButton"><i class="bi bi-plus-circle"></i> Add Item</button>

            <div class="d-flex justify-content-end mt-4">
                <button type="submit" class="btn btn-primary me-2" id="submitPurchaseButton">Submit Purchase</button>
                <button type="button" class="btn btn-success me-2" id="updatePurchaseButton" style="display: none;">Update Purchase</button>

                <button type="button" class="btn btn-secondary me-2" id="backToDashboardButton">Back to Dashboard</button>
                <button type="button" class="btn btn-info me-2" id="printFormButton">Print Form</button> <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" id="clearFormButton">Clear Form</button>
            </div>
        </form>

        <div id="purchaseListContainer" class="mt-5" style="display: none;">
            <h3 class="mb-4 text-center">Submitted Purchases Return List</h3>
            <div class="table-responsive">
                <table class="table table-bordered table-striped" id="purchaseListTable">
                    <thead>
                        <tr>
                            <th>BILL NO</th>
                            <th>DATE</th>
                            <th>Vendor</th>
                            <th>TOTAL BILL</th>
                            <th>NET AMOUNT</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="purchaseListTableBody">
                        </tbody>
                </table>
            </div>
            <p id="noEntriesMessage" class="text-muted text-center" style="display: none;">No purchase entries yet. Submit a form to see them here!</p>
        </div>

    </div>

    <div
      class="modal fade"
      id="termsModal"
      tabindex="-1"
      aria-labelledby="termsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="termsModalLabel">Add New Term</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <input
              type="text"
              class="form-control"
              id="newTermInput"
              placeholder="Enter new term"
            />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="addTermButton">
              Add Term
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="confirmDeleteModal"
      tabindex="-1"
      aria-labelledby="confirmDeleteModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="confirmDeleteModalLabel">
              Confirm Clear Form
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            Are you sure you want to clear all data from this form? This will
            reset all fields.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="button"
              class="btn btn-danger"
              id="confirmClearFormButton"
            >
              Clear Form</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.12.2/dist/sweetalert2.all.min.js"></script>
    <script src="purchaseReturn.js"></script>
</body>
</html>